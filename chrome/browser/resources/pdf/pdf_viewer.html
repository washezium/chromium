<style include="pdf-viewer-shared-style">
  #content-focus-rectangle {
    border: 2px solid white;
    border-radius: 2px;
    box-sizing: border-box;
    height: 100%;
    pointer-events: none;
    position: fixed;
    width: 100%;
    /* z-index for this should be higher than toolbar. */
    z-index: 5;
  }

  viewer-pdf-toolbar {
    position: fixed;
    width: 100%;
    z-index: 4;
  }

  viewer-ink-host {
    height: 100%;
    position: absolute;
    width: 100%;
  }

  @media(max-height: 250px) {
    viewer-pdf-toolbar {
      display: none;
    }
  }

  /* Styles only applying when the pdfViewerUpdateEnabled flag is on. */

  viewer-pdf-toolbar-new {
    z-index: 1;
  }

  :host-context([pdf-viewer-update-enabled]):host {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  #container {
    display: flex;
    flex: 1;
    overflow: hidden;
  }

  #sidenav {
    background-color: var(--viewer-pdf-toolbar-background-color);
    min-width: 260px;
  }

  :host-context([pdf-viewer-update-enabled]) #plugin {
    position: initial;
  }

  :host-context([pdf-viewer-update-enabled]) #content {
    height: 100%;
    left: 0;
    position: sticky;
    top: 0;
    z-index: initial;
  }

  :host-context([pdf-viewer-update-enabled]) #sizer {
    top: 0;
    width: 100%;
    z-index: initial;
  }

  #main {
    flex: 1;
    overflow: auto;
    position: relative;
  }
</style>

<template is="dom-if" if="[[!pdfViewerUpdateEnabled_]]">
  <viewer-pdf-toolbar id="toolbar" strings="[[strings]]"
      bookmarks="[[bookmarks_]]" doc-title="[[title_]]"
      has-edits="[[hasEdits_]]"
      has-entered-annotation-mode="[[hasEnteredAnnotationMode_]]"
      pdf-form-save-enabled="[[pdfFormSaveEnabled_]]"
      printing-enabled="[[printingEnabled_]]"
      is-form-field-focused="[[isFormFieldFocused_]]"
      doc-length="[[docLength_]]" page-no="[[pageNo_]]"
      load-progress="[[loadProgress_]]"
<if expr="chromeos">
      annotation-available="[[annotationAvailable_]]"
      ink-controller="[[inkController_]]"
      pdf-annotations-enabled="[[pdfAnnotationsEnabled_]]"
</if>
      on-change-page-and-xy="onChangePageAndXy_"
      on-change-page="onChangePage_"
      on-dropdown-opened="onDropdownOpened_"
      on-navigate="onNavigate_"
      on-save="onToolbarSave_" on-print="onPrint_"
<if expr="chromeos">
      on-annotation-mode-toggled="onAnnotationModeToggled_"
</if>
      on-rotate-right="rotateClockwise" hidden>
  </viewer-pdf-toolbar>
</template>
<template is="dom-if" if="[[pdfViewerUpdateEnabled_]]">
  <viewer-pdf-toolbar-new id="toolbar"
    doc-title="[[title_]]" doc-length="[[docLength_]]" page-no="[[pageNo_]]"
    load-progress="[[loadProgress_]]" has-edits="[[hasEdits_]]"
    has-entered-annotation-mode="[[hasEnteredAnnotationMode_]]"
    pdf-form-save-enabled="[[pdfFormSaveEnabled_]]"
    printing-enabled="[[printingEnabled_]]"
    is-form-field-focused="[[isFormFieldFocused_]]"
    viewport-zoom="[[viewportZoom_]]"
<if expr="chromeos">
    annotation-available="[[annotationAvailable_]]"
    ink-controller="[[inkController_]]"
    pdf-annotations-enabled="[[pdfAnnotationsEnabled_]]"
</if>
    on-change-page="onChangePage_"
    on-dropdown-opened="onDropdownOpened_"
    on-fit-to-changed="onFitToChanged" on-zoom-in="onZoomIn"
    on-two-up-view-changed="onTwoUpViewChanged_"
    on-zoom-changed="onZoomChanged"
    on-zoom-out="onZoomOut" on-rotate-left="rotateCounterclockwise"
<if expr="chromeos">
    on-annotation-mode-toggled="onAnnotationModeToggled_"
</if>
    on-print="onPrint_" on-save="onToolbarSave_" hidden>
  </viewer-pdf-toolbar-new>
</template>

<template is="dom-if" if="[[pdfViewerUpdateEnabled_]]">
  <div id="container">
    <div id="sidenav"></div>
    <div id="main" on-scroll="onScroll_">
      <div id="sizer"></div>
      <div id="content"></div>
    </div>
  </div>
</template>

<template is="dom-if" if="[[!pdfViewerUpdateEnabled_]]">
  <div id="sizer"></div>
</template>

<viewer-password-screen id="password-screen"
    on-password-submitted="onPasswordSubmitted_">
</viewer-password-screen>

<template is="dom-if" if="[[!pdfViewerUpdateEnabled_]]">
  <viewer-zoom-toolbar id="zoom-toolbar"
      on-fit-to-changed="onFitToChanged"
      on-zoom-in="onZoomIn" on-zoom-out="onZoomOut">
  </viewer-zoom-toolbar>
</template>

<viewer-error-screen id="error-screen"></viewer-error-screen>

<if expr="chromeos">
<viewer-form-warning id="form-warning"></viewer-form-warning>
</if>

<template is="dom-if" if="[[!pdfViewerUpdateEnabled_]]">
  <div id="content"></div>
</template>

<div id="content-focus-rectangle" hidden$="[[!documentHasFocus_]]"></div>