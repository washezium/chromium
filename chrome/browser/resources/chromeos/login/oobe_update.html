<!-- Copyright 2016 The Chromium Authors. All rights reserved.
     Use of this source code is governed by a BSD-style license that can be
     found in the LICENSE file. -->

<link rel="import" href="chrome://resources/polymer/v1_0/iron-icon/iron-icon.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-progress/paper-progress.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-styles/color.html">

<dom-module id="oobe-update">
  <template>
    <style include="oobe-dialog-host"></style>
    <link rel="stylesheet" href="oobe_update.css">
    <div hidden="[[betterUpdateScreenFeatureEnabled_]]">
      <checking-downloading-update id="checking-downloading-update"
          aria-label$="[[i18nDynamic(locale, 'updateScreenAccessibleTitle')]]"
          hidden="[[requiresPermissionForCellular]]"
          checking-for-update="[[checkingForUpdate]]"
          cancel-allowed="[[cancelAllowed]]"
          update-completed="[[updateCompleted]]"
          progress-value="[[progressValue]]"
          has-estimate="[[estimatedTimeLeftShown]]"
          estimated-time-left="[[estimatedTimeLeft]]"
          default-progress-message="[[progressMessage]]"
          checking-for-updates-key="checkingForUpdatesMsg"
          cancel-hint-key="[[cancelHint]]"
          downloading-updates-key="installingUpdateDesc">
      </checking-downloading-update>
      <oobe-dialog hidden="[[!requiresPermissionForCellular]]" tabindex="0"
          subtitle-key="updateOverCellularPromptMessage"
          aria-live="polite" has-buttons footer-shrinkable
          id="cellular-permission-dialog">
        <hd-iron-icon slot="oobe-icon"
            icon1x="oobe-32:googleg" icon2x="oobe-64:googleg">
        </hd-iron-icon>
        <h1 slot="title">
          [[i18nRecursive(locale, 'updateOverCellularPromptTitle',
                          'productName')]]
        </h1>
        <div slot="footer" class="flex layout vertical center-justified center">
          <img class="update-illustration oobe-illustration"
              srcset="images/1x/updating_1x.svg 1x,
                      images/2x/updating_2x.svg 2x">
        </div>
        <div slot="bottom-buttons" class="layout horizontal justified">
          <oobe-back-button id="cellular-permission-back" inverse
              on-click="onBackClicked_"></oobe-back-button>
          <oobe-next-button id="cellular-permission-next" inverse
              on-tap="onNextClicked_"></oobe-next-button>
        </div>
      </oobe-dialog>
    </div>
    <div hidden="[[!betterUpdateScreenFeatureEnabled_]]">
      <oobe-dialog footer-shrinkable id="restarting-dialog"
          hidden="[[!isRebootProgressBarShown_(manualRebootNeeded,
                                               updateCompleted)]]"
          title-key="updateCompeletedRebootingMsg"
          aria-live="polite">
        <hd-iron-icon slot="oobe-icon"
            icon1x="oobe-32:googleg" icon2x="oobe-64:googleg">
        </hd-iron-icon>
        <paper-progress slot="progress" id="restarting-progress" indeterminate>
        </paper-progress>
      </oobe-dialog>
      <oobe-dialog footer-shrinkable id="better-update-complete-dialog"
          hidden="[[!manualRebootNeeded]]"
          title-key="updateCompeletedMsg"
          aria-live="polite">
        <hd-iron-icon slot="oobe-icon"
            icon1x="oobe-32:googleg" icon2x="oobe-64:googleg">
        </hd-iron-icon>
      </oobe-dialog>
      <oobe-dialog hidden="[[!showLowBatteryWarning]]">
        <div hidden="[[!showLowBatteryWarning]]" id="battery-warning"
            slot="footer">
        </div>
      </oobe-dialog>
    </div>
  </template>
</dom-module>
